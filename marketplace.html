<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --primary-bg-color: #050505; --primary-text-color: white; --border-base-color: #1f2937; --secondary-bg-color: #0a0a0a; }
        body.light-mode { --primary-bg-color: #ffffff; --primary-text-color: #1a202c; --border-base-color: #e2e8f0; --secondary-bg-color: #f9fafb; }
        body { background-color: var(--primary-bg-color) !important; color: var(--primary-text-color) !important; transition: 0.3s ease; font-family: 'Inter', sans-serif; }
        .border-theme { border-color: var(--border-base-color) !important; }
        .bg-secondary { background-color: var(--secondary-bg-color) !important; }
    </style>
</head>
<body class="min-h-screen">
    <nav class="border-b border-theme bg-secondary px-6 py-4 flex justify-between items-center">
        <div class="text-xl font-bold font-mono">SOVA<span class="text-00f0ff" style="color:#00f0ff">BOTS</span></div>
        <button id="theme-toggle" class="p-2 border border-theme rounded">üåì</button>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-16">
        <div class="mb-12">
            <h2 class="text-3xl font-bold mb-2">The Agent Marketplace</h2>
            <p class="text-gray-400">Deploy specific bots for high-impact tasks instantly[cite: 94].</p>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
            <div class="p-6 border border-theme bg-secondary rounded-lg group hover:border-00f0ff" style="transition:0.3s">
                <div class="text-3xl mb-4">üîç</div>
                <h3 class="text-xl font-bold mb-2">The Researcher Bot</h3>
                <p class="text-sm text-gray-500 mb-6">Deep-dive market reports or competitor analysis delivered in minutes[cite: 95].</p>
                <div class="flex justify-between items-center">
                    <span class="text-2xl font-mono font-bold">$50</span>
                    <button class="px-4 py-2 bg-white text-black text-xs font-bold rounded">PURCHASE TASK</button>
                </div>
            </div>

            <div class="p-6 border border-theme bg-secondary rounded-lg group hover:border-00f0ff" style="transition:0.3s">
                <div class="text-3xl mb-4">üï∑Ô∏è</div>
                <h3 class="text-xl font-bold mb-2">The Lead Scraper</h3>
                <p class="text-sm text-gray-500 mb-6">1,000 verified B2B leads, filtered by industry and size[cite: 96].</p>
                <div class="flex justify-between items-center">
                    <span class="text-2xl font-mono font-bold">$100</span>
                    <button class="px-4 py-2 bg-white text-black text-xs font-bold rounded">SCRAPE NOW</button>
                </div>
            </div>

            <div class="p-6 border border-theme bg-secondary rounded-lg group hover:border-00f0ff" style="transition:0.3s">
                <div class="text-3xl mb-4">üõ°Ô∏è</div>
                <h3 class="text-xl font-bold mb-2">The Security Auditor</h3>
                <p class="text-sm text-gray-500 mb-6">Full site vulnerability scan and essential security risk report[cite: 97].</p>
                <div class="flex justify-between items-center">
                    <span class="text-2xl font-mono font-bold">$200</span>
                    <button class="px-4 py-2 bg-white text-black text-xs font-bold rounded">AUDIT SYSTEM</button>
                </div>
            </div>
        </div>
    </main>
    <script>
        const SOVA_URL = "https://xhmsqsooabpcysacaroc.supabase.co";
        const SOVA_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobXNxc29vYWJwY3lzYWNhcm9jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NDU5NDksImV4cCI6MjA4MjQyMTk0OX0.jgTSVP1aPE6kTpp8IvNv-ezVAMmEo-qh7OMzOsBgBx4"; // Use the same key from index.html
        const sovaClient = supabase.createClient(SOVA_URL, SOVA_KEY);

        async function loadMarketplace() {
            const container = document.getElementById('product-grid');
            
            // Fetch only bots that Howard or Levisco have officially "Shipped"
            const { data: bots, error } = await sovaClient
                .from('bots')
                .select('*')
                .eq('status', 'deployed');

            if (error) {
                console.error("Error loading marketplace:", error);
                return;
            }

            // Map the database bots to your beautiful UI cards
            container.innerHTML = bots.map(bot => `
                <div class="p-6 border border-theme bg-secondary rounded-lg group hover:border-[#00f0ff] transition-all duration-300">
                    <div class="text-3xl mb-4">ü§ñ</div>
                    <h3 class="text-xl font-bold mb-2">${bot.name}</h3>
                    <p class="text-sm text-gray-500 mb-6">${bot.marketing_description || 'Autonomous AI solution.'}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-2xl font-mono font-bold">$${bot.price || '0'}</span>
                        <a href="${bot.checkout_url}" target="_blank" class="px-4 py-2 bg-white text-black text-xs font-bold rounded uppercase tracking-wider hover:bg-[#00f0ff] transition-colors">
                            Buy Now
                        </a>
                    </div>
                </div>
            `).join('');
        }

        // Initialize on load
        loadMarketplace();
        document.getElementById('theme-toggle').addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
        });
    </script>
</body>
</html>